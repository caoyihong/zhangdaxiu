<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jingyuan.zhifeng.repository.ZFProblemMapper" >
<cache type="org.mybatis.caches.ehcache.LoggingEhcache"/>
  <resultMap id="BaseResultMap" type="com.jingyuan.zhifeng.entity.ZFProblem" >
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="type" property="type" jdbcType="VARCHAR" />
    <result column="userid" property="userid" jdbcType="VARCHAR" />
    <result column="title" property="title" jdbcType="VARCHAR" />
    <result column="address" property="address" jdbcType="INTEGER" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="contacts" property="contacts" jdbcType="VARCHAR" />
    <result column="phone" property="phone" jdbcType="VARCHAR" />
    <result column="fax" property="fax" jdbcType="VARCHAR" />
    <result column="postcode" property="postcode" jdbcType="VARCHAR" />
    <result column="detail" property="detail" jdbcType="VARCHAR" />
    <result column="finishtime" property="finishtime" jdbcType="TIMESTAMP" />
    <result column="endtime" property="endtime" jdbcType="TIMESTAMP" />
    <result column="economicindicators" property="economicindicators" jdbcType="VARCHAR" />
    <result column="resultform" property="resultform" jdbcType="VARCHAR" />
    <result column="resultowner" property="resultowner" jdbcType="VARCHAR" />
    <result column="fundoffered" property="fundoffered" jdbcType="VARCHAR" />
    <result column="keywords" property="keywords" jdbcType="VARCHAR" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
    <result column="createtime" property="createtime" jdbcType="TIMESTAMP" />
    <result column="updatetime" property="updatetime" jdbcType="TIMESTAMP" />
    <result column="enabled" property="enabled" jdbcType="TINYINT" />
  </resultMap>
  <sql id="Base_Column_List" >
    id, type, userid, title, address, email, contacts, phone, fax, postcode, detail, finishtime, endtime, 
    economicindicators, resultform, resultowner, fundoffered, keywords, remark, createtime, updatetime, 
    enabled
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select 
    <include refid="Base_Column_List" />
    from zf_problem
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from zf_problem
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.jingyuan.zhifeng.entity.ZFProblem" keyProperty="id" useGeneratedKeys="true">
    insert into zf_problem (type, userid, title, address, email, 
    contacts, phone, fax, postcode, detail, finishtime, endtime, 
    economicindicators, resultform, resultowner, fundoffered, keywords, 
    remark, createtime, updatetime, enabled)
    values (#{type,jdbcType=VARCHAR}, #{userid,jdbcType=VARCHAR}, 
      #{title,jdbcType=VARCHAR}, #{address,jdbcType=INTEGER}, #{email,jdbcType=VARCHAR}, 
      #{contacts,jdbcType=VARCHAR}, #{phone,jdbcType=VARCHAR}, #{fax,jdbcType=VARCHAR}, 
      #{postcode,jdbcType=VARCHAR}, #{detail,jdbcType=VARCHAR}, #{finishtime,jdbcType=TIMESTAMP}, 
      #{endtime,jdbcType=TIMESTAMP}, #{economicindicators,jdbcType=VARCHAR}, #{resultform,jdbcType=VARCHAR}, 
      #{resultowner,jdbcType=VARCHAR}, #{fundoffered,jdbcType=VARCHAR}, #{keywords,jdbcType=VARCHAR}, 
      #{remark,jdbcType=VARCHAR}, now(), now(), 
      #{enabled,jdbcType=TINYINT})
  </insert>
  <insert id="insertSelective" parameterType="com.jingyuan.zhifeng.entity.ZFProblem" keyProperty="id" useGeneratedKeys="true">
    insert into zf_problem
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="type != null" >
        type,
      </if>
      <if test="userid != null" >
        userid,
      </if>
      <if test="title != null" >
        title,
      </if>
      <if test="address != null" >
        address,
      </if>
      <if test="email != null" >
        email,
      </if>
      <if test="contacts != null" >
        contacts,
      </if>
      <if test="phone != null" >
        phone,
      </if>
      <if test="fax != null" >
        fax,
      </if>
      <if test="postcode != null" >
        postcode,
      </if>
      <if test="detail != null" >
        detail,
      </if>
      <if test="finishtime != null" >
        finishtime,
      </if>
      <if test="endtime != null" >
        endtime,
      </if>
      <if test="economicindicators != null" >
        economicindicators,
      </if>
      <if test="resultform != null" >
        resultform,
      </if>
      <if test="resultowner != null" >
        resultowner,
      </if>
      <if test="fundoffered != null" >
        fundoffered,
      </if>
      <if test="keywords != null" >
        keywords,
      </if>
      <if test="remark != null" >
        remark,
      </if>
        createtime,
        updatetime,
      <if test="enabled != null" >
        enabled,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="type != null" >
        #{type,jdbcType=VARCHAR},
      </if>
      <if test="userid != null" >
        #{userid,jdbcType=VARCHAR},
      </if>
      <if test="title != null" >
        #{title,jdbcType=VARCHAR},
      </if>
      <if test="address != null" >
        #{address,jdbcType=INTEGER},
      </if>
      <if test="email != null" >
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="contacts != null" >
        #{contacts,jdbcType=VARCHAR},
      </if>
      <if test="phone != null" >
        #{phone,jdbcType=VARCHAR},
      </if>
      <if test="fax != null" >
        #{fax,jdbcType=VARCHAR},
      </if>
      <if test="postcode != null" >
        #{postcode,jdbcType=VARCHAR},
      </if>
      <if test="detail != null" >
        #{detail,jdbcType=VARCHAR},
      </if>
      <if test="finishtime != null" >
        #{finishtime,jdbcType=TIMESTAMP},
      </if>
      <if test="endtime != null" >
        #{endtime,jdbcType=TIMESTAMP},
      </if>
      <if test="economicindicators != null" >
        #{economicindicators,jdbcType=VARCHAR},
      </if>
      <if test="resultform != null" >
        #{resultform,jdbcType=VARCHAR},
      </if>
      <if test="resultowner != null" >
        #{resultowner,jdbcType=VARCHAR},
      </if>
      <if test="fundoffered != null" >
        #{fundoffered,jdbcType=VARCHAR},
      </if>
      <if test="keywords != null" >
        #{keywords,jdbcType=VARCHAR},
      </if>
      <if test="remark != null" >
        #{remark,jdbcType=VARCHAR},
      </if>
        now(),
        now(),
      <if test="enabled != null" >
        #{enabled,jdbcType=TINYINT},
      </if>
    </trim>
  </insert>

  <select id="countProblemByUserId" resultType="java.lang.Integer">
  	select count(*) from zf_problem p where p.userid = #{0}
  </select>

</mapper>